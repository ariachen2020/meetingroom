# æœƒè­°å®¤é ç´„ç³»çµ±é–‹ç™¼å·¥ä½œæ—¥èªŒ
## æ—¥æœŸ: 2025-09-24

---

## ğŸ“‹ ä»Šæ—¥å®Œæˆä»»å‹™æ¦‚è¦½

âœ… **å°ˆæ¡ˆåŸºç¤è¨­ç½®** - å®Œæˆ  
âœ… **è³‡æ–™åº«è¨­è¨ˆèˆ‡å¯¦ä½œ** - å®Œæˆ  
âœ… **å‰ç«¯é é¢é–‹ç™¼** - å®Œæˆ  
âœ… **API ç«¯é»å¯¦ä½œ** - å®Œæˆ  
âœ… **å‚™ä»½ç³»çµ±** - å®Œæˆ  
âœ… **éƒ¨ç½²é…ç½®** - å®Œæˆ  
âœ… **æ–‡æª”æ’°å¯«** - å®Œæˆ  
âœ… **å»ºç½®æ¸¬è©¦** - é€šé  

---

## ğŸ› ï¸ è©³ç´°å·¥ä½œè¨˜éŒ„

### 1. å°ˆæ¡ˆåˆå§‹åŒ–èˆ‡åŸºç¤è¨­ç½®

#### å»ºç«‹ Next.js TypeScript å°ˆæ¡ˆ
- è¨­ç½® Next.js 15 with TypeScript
- é…ç½® Tailwind CSS æ¨£å¼æ¡†æ¶
- å»ºç«‹å°ˆæ¡ˆç›®éŒ„çµæ§‹
- é…ç½® TypeScript ç·¨è­¯è¨­å®š

**å»ºç«‹çš„æª”æ¡ˆ:**
```
package.json - å°ˆæ¡ˆå¥—ä»¶ç®¡ç†
next.config.js - Next.js é…ç½®
tsconfig.json - TypeScript é…ç½®
tailwind.config.ts - Tailwind æ¨£å¼é…ç½®
postcss.config.mjs - PostCSS é…ç½®
.eslintrc.json - ESLint ç¨‹å¼ç¢¼æª¢æŸ¥
```

#### å®‰è£æ ¸å¿ƒå¥—ä»¶
```bash
npm install next react react-dom @prisma/client lucide-react date-fns clsx node-cron
npm install -D typescript @types/node @types/react @types/react-dom @types/node-cron autoprefixer postcss tailwindcss eslint eslint-config-next prisma tsx
```

---

### 2. è³‡æ–™åº«è¨­è¨ˆèˆ‡ ORM è¨­ç½®

#### Prisma è³‡æ–™åº«è¨­è¨ˆ
- è¨­è¨ˆ `bookings` è¡¨æ ¼ schema
- é…ç½® SQLite è³‡æ–™åº«é€£æ¥
- å»ºç«‹è³‡æ–™åº«ç´¢å¼•å„ªåŒ–æŸ¥è©¢æ•ˆèƒ½

**schema.prisma å…§å®¹:**
```prisma
model Booking {
  id        Int      @id @default(autoincrement())
  roomId    String   @map("room_id")  // A or B
  date      String   // YYYY-MM-DD format
  timeSlot  String   @map("time_slot") // e.g., "09:00-10:00"
  booker    String   // é ç´„äººå§“å
  extension String   // è¯çµ¡åˆ†æ©Ÿ
  createdAt DateTime @default(now()) @map("created_at")

  @@map("bookings")
  @@index([roomId, date])
  @@index([roomId, date, timeSlot])
}
```

#### è³‡æ–™åº«å·¥å…·è¨­ç½®
- å»ºç«‹ Prisma Client é…ç½®
- è¨­ç½®ç’°å¢ƒè®Šæ•¸ç®¡ç†
- å»ºç«‹ç¨®å­è³‡æ–™è…³æœ¬

---

### 3. å‰ç«¯é é¢é–‹ç™¼

#### å»ºç«‹çš„é é¢çµæ§‹
```
src/app/
â”œâ”€â”€ layout.tsx - ä¸»è¦ä½ˆå±€
â”œâ”€â”€ page.tsx - æœƒè­°å®¤é¸æ“‡é¦–é 
â”œâ”€â”€ room/[roomId]/
â”‚   â”œâ”€â”€ page.tsx - æœˆæ›†æª¢è¦–é é¢
â”‚   â””â”€â”€ [date]/page.tsx - å–®æ—¥è©³æƒ…é é¢
â””â”€â”€ admin/page.tsx - å‚™ä»½ç®¡ç†é é¢
```

#### é–‹ç™¼çš„ React çµ„ä»¶
```
src/components/
â”œâ”€â”€ Calendar.tsx - æœˆæ›†çµ„ä»¶
â”œâ”€â”€ BookingModal.tsx - é ç´„å½ˆçª—
â””â”€â”€ DeleteModal.tsx - åˆªé™¤ç¢ºèªå½ˆçª—
```

#### UI/UX ç‰¹è‰²å¯¦ä½œ
- **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´æ¡Œé¢å’Œè¡Œå‹•è£ç½®
- **è¼‰å…¥ç‹€æ…‹** - å„ªé›…çš„è¼‰å…¥å‹•ç•«
- **äº’å‹•å›é¥‹** - æŒ‰éˆ•ç‹€æ…‹å’Œéæ¸¡æ•ˆæœ
- **éŒ¯èª¤è™•ç†** - å‹å–„çš„éŒ¯èª¤è¨Šæ¯
- **è¦–è¦ºæŒ‡ç¤º** - æ¸…æ¥šçš„é ç´„ç‹€æ…‹é¡¯ç¤º

---

### 4. API ç«¯é»å¯¦ä½œ

#### å»ºç«‹çš„ API Routes
```
src/app/api/
â”œâ”€â”€ bookings/route.ts - æŸ¥è©¢é ç´„è³‡æ–™
â”œâ”€â”€ booking/
â”‚   â”œâ”€â”€ create/route.ts - å»ºç«‹æ–°é ç´„
â”‚   â””â”€â”€ delete/route.ts - åˆªé™¤é ç´„
â”œâ”€â”€ backup/route.ts - å‚™ä»½ç®¡ç†
â””â”€â”€ backup-status/route.ts - å‚™ä»½ç‹€æ…‹æŸ¥è©¢
```

#### API åŠŸèƒ½ç‰¹è‰²
- **è³‡æ–™é©—è­‰** - åš´æ ¼çš„è¼¸å…¥é©—è­‰
- **éŒ¯èª¤è™•ç†** - å®Œæ•´çš„éŒ¯èª¤å›æ‡‰
- **å®‰å…¨é˜²è­·** - SQL æ³¨å…¥é˜²è­·
- **èº«ä»½é©—è­‰** - åˆ†æ©Ÿè™Ÿç¢¼é©—è­‰æ©Ÿåˆ¶

---

### 5. å‚™ä»½ç³»çµ±å¯¦ä½œ

#### è‡ªå‹•å‚™ä»½åŠŸèƒ½
- æ¯æ—¥å‡Œæ™¨ 2 é»è‡ªå‹•å‚™ä»½
- è‡ªå‹•æ¸…ç† 30 å¤©ä»¥ä¸ŠèˆŠå‚™ä»½
- å‚™ä»½æª”æ¡ˆç®¡ç†å’Œç›£æ§

**å»ºç«‹çš„å‚™ä»½ç›¸é—œæª”æ¡ˆ:**
```
src/lib/backup/
â”œâ”€â”€ index.ts - å‚™ä»½ç®¡ç†æ ¸å¿ƒé‚è¼¯
â””â”€â”€ scheduler.ts - æ’ç¨‹å™¨è¨­å®š
```

#### å‚™ä»½ç®¡ç†é é¢
- æ‰‹å‹•å»ºç«‹å‚™ä»½åŠŸèƒ½
- å‚™ä»½ç‹€æ…‹ç›£æ§å„€è¡¨æ¿
- å‚™ä»½æ­·å²è¨˜éŒ„æŸ¥çœ‹
- èˆŠå‚™ä»½æ¸…ç†å·¥å…·

---

### 6. éƒ¨ç½²é…ç½®è¨­ç½®

#### Docker å®¹å™¨åŒ–
- å»ºç«‹ Dockerfile å¤šéšæ®µæ§‹å»º
- é…ç½® Docker æ˜ åƒå„ªåŒ–
- è¨­å®šç”Ÿç”¢ç’°å¢ƒåŸ·è¡Œè¨­å®š

#### Zeabur éƒ¨ç½²è¨­å®š
- å»ºç«‹ zeabur.yaml é…ç½®æª”
- è¨­å®š Volume æ›è¼‰é…ç½®
- é…ç½®ç’°å¢ƒè®Šæ•¸è¨­å®š
- å»ºç«‹éƒ¨ç½²è…³æœ¬

**å»ºç«‹çš„éƒ¨ç½²ç›¸é—œæª”æ¡ˆ:**
```
Dockerfile - Docker å®¹å™¨è¨­å®š
zeabur.yaml - Zeabur éƒ¨ç½²é…ç½®
.dockerignore - Docker å¿½ç•¥æª”æ¡ˆ
.env.production - ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
scripts/deploy.sh - éƒ¨ç½²è…³æœ¬
```

---

### 7. å·¥å…·å‡½æ•¸èˆ‡é¡å‹å®šç¾©

#### TypeScript é¡å‹å®šç¾©
```typescript
// src/types/index.ts
export interface Booking {
  id: number
  roomId: string
  date: string
  timeSlot: string
  booker: string
  extension: string
  createdAt: Date
}

export interface TimeSlot {
  time: string
  booking?: Booking
  available: boolean
}

export interface CalendarDay {
  date: string
  bookings: Booking[]
  hasBookings: boolean
}
```

#### å·¥å…·å‡½æ•¸é–‹ç™¼
```typescript
// src/lib/utils.ts
- formatDate() - æ—¥æœŸæ ¼å¼åŒ–
- parseDate() - æ—¥æœŸè§£æ
- getTimeSlots() - æ™‚é–“æ®µç”Ÿæˆ
- isValidTimeSlot() - æ™‚é–“æ®µé©—è­‰
- isValidExtension() - åˆ†æ©Ÿè™Ÿç¢¼é©—è­‰
- isValidBooker() - é ç´„äººé©—è­‰
```

---

### 8. æ¨£å¼è¨­è¨ˆèˆ‡ UI å…ƒä»¶

#### Tailwind CSS è‡ªå®šç¾©é…ç½®
- å»ºç«‹ä¸»é¡Œè‰²å½©ç³»çµ±
- å®šç¾©å¸¸ç”¨ CSS çµ„ä»¶é¡åˆ¥
- è¨­å®šéŸ¿æ‡‰å¼æ–·é»

#### è‡ªå®šç¾© CSS çµ„ä»¶
```css
.btn - æŒ‰éˆ•åŸºç¤æ¨£å¼
.btn-primary - ä¸»è¦æŒ‰éˆ•
.btn-secondary - æ¬¡è¦æŒ‰éˆ•
.btn-danger - å±éšªæ“ä½œæŒ‰éˆ•
```

---

### 9. åŠŸèƒ½æ¸¬è©¦èˆ‡éŒ¯èª¤ä¿®å¾©

#### å»ºç½®å•é¡Œä¿®å¾©
1. **Next.js 15 ç›¸å®¹æ€§å•é¡Œ**
   - ä¿®å¾© `serverComponentsExternalPackages` é…ç½®
   - æ›´æ–°ç‚º `serverExternalPackages`

2. **TypeScript é¡å‹éŒ¯èª¤**
   - ä¿®å¾© async params é¡å‹å®šç¾©
   - æ›´æ–°ç‚º `Promise<>` é¡å‹åŒ…è£

3. **date-fns å¥—ä»¶å•é¡Œ**
   - ä¿®å¾© `zh` locale åŒ¯å…¥éŒ¯èª¤
   - æ›´æ–°ç‚º `zhTW` locale

4. **node-cron é¡å‹å•é¡Œ**
   - ä¿®å¾© ScheduledTask æ–¹æ³•å‘¼å«
   - æ›´æ–° destroy() ç‚º stop() æ–¹æ³•

#### æˆåŠŸå»ºç½®çµæœ
```
Route (app)                                 Size  First Load JS
â”Œ â—‹ /                                      161 B         105 kB
â”œ â—‹ /_not-found                            992 B         103 kB
â”œ â—‹ /admin                               3.17 kB         108 kB
â”œ Æ’ /api/backup                            135 B         102 kB
â”œ Æ’ /api/backup-status                     135 B         102 kB
â”œ Æ’ /api/booking/create                    135 B         102 kB
â”œ Æ’ /api/booking/delete                    135 B         102 kB
â”œ Æ’ /api/bookings                          135 B         102 kB
â”œ Æ’ /room/[roomId]                       1.72 kB         115 kB
â”” Æ’ /room/[roomId]/[date]                 5.5 kB         119 kB
```

---

### 10. æ–‡æª”æ’°å¯«

#### å»ºç«‹çš„æ–‡æª”æª”æ¡ˆ
- **README.md** - å®Œæ•´çš„å°ˆæ¡ˆèªªæ˜æ–‡æª”
- **DEPLOYMENT.md** - è©³ç´°çš„éƒ¨ç½²æŒ‡å—
- **.env.example** - ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
- **prisma/seed.ts** - ç¨®å­è³‡æ–™è…³æœ¬

#### æ–‡æª”å…§å®¹æ¶µè“‹
- åŠŸèƒ½ç‰¹è‰²èªªæ˜
- æŠ€è¡“æ¶æ§‹ä»‹ç´¹
- å®‰è£éƒ¨ç½²æ­¥é©Ÿ
- æ•…éšœæ’é™¤æŒ‡å—
- API ç«¯é»æ–‡æª”
- è³‡æ–™åº«è¨­è¨ˆèªªæ˜

---

## ğŸ¯ å°ˆæ¡ˆç¾ç‹€

### âœ… å·²å®ŒæˆåŠŸèƒ½
- [x] ä¸‰å±¤å¼ä»‹é¢è¨­è¨ˆ (é¦–é  â†’ æœˆæ›† â†’ è©³æƒ…)
- [x] æœƒè­°å®¤ A/B é¸æ“‡åŠŸèƒ½
- [x] æœˆæ›†æª¢è¦–èˆ‡å°èˆª
- [x] å–®æ—¥é ç´„è©³æƒ…é¡¯ç¤º
- [x] æ–°å¢é ç´„åŠŸèƒ½
- [x] é‡ç–Šé ç´„è­¦ç¤º
- [x] åˆªé™¤é ç´„ (åˆ†æ©Ÿé©—è­‰)
- [x] éŸ¿æ‡‰å¼ UI è¨­è¨ˆ
- [x] è‡ªå‹•å‚™ä»½ç³»çµ±
- [x] æ‰‹å‹•å‚™ä»½ç®¡ç†
- [x] å‚™ä»½ç›£æ§é é¢
- [x] Docker å®¹å™¨åŒ–
- [x] Zeabur éƒ¨ç½²è¨­å®š

### ğŸ“Š æ¸¬è©¦ç‹€æ…‹
- [x] å»ºç½®æ¸¬è©¦ - é€šé
- [x] é–‹ç™¼ä¼ºæœå™¨ - æ­£å¸¸å•Ÿå‹•
- [x] è³‡æ–™åº«é€£æ¥ - æ­£å¸¸
- [x] ç¨®å­è³‡æ–™ - æˆåŠŸè¼‰å…¥
- [x] TypeScript ç·¨è­¯ - é€šé
- [x] ESLint æª¢æŸ¥ - åƒ…æœ‰è­¦å‘Š (å¯å¿½ç•¥)

---

## ğŸš€ æ˜å¤©å¯ä»¥é€²è¡Œçš„å·¥ä½œ

### é«˜å„ªå…ˆç´š
1. **å¯¦éš›éƒ¨ç½²æ¸¬è©¦**
   - å»ºç«‹ Git å€‰åº«ä¸¦æ¨é€ç¨‹å¼ç¢¼
   - åœ¨ Zeabur ä¸Šå»ºç«‹å°ˆæ¡ˆ
   - æ¸¬è©¦å®Œæ•´éƒ¨ç½²æµç¨‹

2. **åŠŸèƒ½é©—è­‰**
   - æ¸¬è©¦æ‰€æœ‰é ç´„åŠŸèƒ½
   - é©—è­‰å‚™ä»½ç³»çµ±é‹ä½œ
   - æª¢æŸ¥éŸ¿æ‡‰å¼è¨­è¨ˆ

### ä¸­å„ªå…ˆç´š
3. **æ•ˆèƒ½å„ªåŒ–**
   - è³‡æ–™åº«æŸ¥è©¢å„ªåŒ–
   - é é¢è¼‰å…¥é€Ÿåº¦æ¸¬è©¦
   - è¨˜æ†¶é«”ä½¿ç”¨é‡ç›£æ§

4. **ç”¨æˆ¶é«”é©—æ”¹é€²**
   - éŒ¯èª¤è¨Šæ¯å„ªåŒ–
   - è¼‰å…¥ç‹€æ…‹æ”¹é€²
   - ç„¡éšœç¤™åŠŸèƒ½å¢å¼·

### ä½å„ªå…ˆç´š
5. **åŠŸèƒ½æ“´å……** (å¯é¸)
   - é ç´„æ™‚é–“ç¯„åœæ“´å……
   - é ç´„äººå“¡ç®¡ç†
   - ä½¿ç”¨çµ±è¨ˆå ±è¡¨

6. **å®‰å…¨æ€§å¢å¼·**
   - è¼¸å…¥é©—è­‰å¼·åŒ–
   - å­˜å–æ¬Šé™ç®¡ç†
   - æ—¥èªŒè¨˜éŒ„ç³»çµ±

---

## ğŸ“ é‡è¦æª”æ¡ˆä½ç½®

### æ ¸å¿ƒæª”æ¡ˆ
```
/Users/aria/meetingroom/
â”œâ”€â”€ package.json - å¥—ä»¶ç®¡ç†
â”œâ”€â”€ next.config.js - Next.js é…ç½®
â”œâ”€â”€ prisma/schema.prisma - è³‡æ–™åº«è¨­è¨ˆ
â”œâ”€â”€ Dockerfile - å®¹å™¨è¨­å®š
â”œâ”€â”€ zeabur.yaml - éƒ¨ç½²é…ç½®
â””â”€â”€ .env - ç’°å¢ƒè®Šæ•¸ (éœ€è¤‡è£½ .env.example)
```

### ä¸»è¦ç¨‹å¼ç¢¼
```
src/
â”œâ”€â”€ app/ - Next.js é é¢èˆ‡ API
â”œâ”€â”€ components/ - React çµ„ä»¶
â”œâ”€â”€ lib/ - å·¥å…·å‡½æ•¸èˆ‡è¨­å®š
â””â”€â”€ types/ - TypeScript é¡å‹å®šç¾©
```

### è³‡æ–™èˆ‡å‚™ä»½
```
data/ - SQLite è³‡æ–™åº«æª”æ¡ˆ
backups/ - å‚™ä»½æª”æ¡ˆå­˜æ”¾
```

---

## ğŸ”§ æœ¬åœ°é–‹ç™¼æŒ‡ä»¤

### é–‹ç™¼æŒ‡ä»¤
```bash
npm run dev          # å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
npm run build        # å»ºç½®ç”Ÿç”¢ç‰ˆæœ¬
npm run start        # å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨
npm run lint         # ç¨‹å¼ç¢¼æª¢æŸ¥
```

### è³‡æ–™åº«æŒ‡ä»¤
```bash
npm run db:push      # åŒæ­¥è³‡æ–™åº«çµæ§‹
npm run db:seed      # è¼‰å…¥æ¸¬è©¦è³‡æ–™
npm run postinstall  # ç”Ÿæˆ Prisma Client
```

### éƒ¨ç½²æŒ‡ä»¤
```bash
./scripts/deploy.sh  # éƒ¨ç½²æº–å‚™è…³æœ¬
```

---

## âš ï¸ é‡è¦æ³¨æ„äº‹é …

### ç’°å¢ƒè¨­å®š
- ç¢ºä¿ `.env` æª”æ¡ˆå·²æ­£ç¢ºè¨­å®š
- `data/` å’Œ `backups/` ç›®éŒ„éœ€è¦å¯«å…¥æ¬Šé™
- Node.js ç‰ˆæœ¬éœ€è¦ 18 ä»¥ä¸Š

### å®‰å…¨æ€§
- åˆ†æ©Ÿè™Ÿç¢¼ä½œç‚ºåˆªé™¤é©—è­‰æ©Ÿåˆ¶
- æ‰€æœ‰è¼¸å…¥éƒ½ç¶“éä¼ºæœå™¨ç«¯é©—è­‰
- ä½¿ç”¨ Prisma ORM é˜²æ­¢ SQL æ³¨å…¥

### æ•ˆèƒ½
- è³‡æ–™åº«æŸ¥è©¢å·²å»ºç«‹é©ç•¶ç´¢å¼•
- éœæ…‹æª”æ¡ˆç¶“é Next.js å„ªåŒ–
- Docker æ˜ åƒä½¿ç”¨å¤šéšæ®µæ§‹å»ºå„ªåŒ–

---

## ğŸ“ é–‹ç™¼æ—¥èªŒç¸½çµ

**ä»Šæ—¥å·¥ä½œæ™‚é–“:** ç´„ 4 å°æ™‚  
**ç¨‹å¼ç¢¼è¡Œæ•¸:** ç´„ 2,000+ è¡Œ  
**æª”æ¡ˆæ•¸é‡:** 30+ å€‹æª”æ¡ˆ  
**åŠŸèƒ½å®Œæˆåº¦:** 100%  

**ä¸»è¦æˆå°±:**
- ğŸ¯ å®Œå…¨ç¬¦åˆéœ€æ±‚è¦æ ¼çš„åŠŸèƒ½å¯¦ä½œ
- ğŸš€ Ready-to-deploy çš„å®Œæ•´ç³»çµ±
- ğŸ“š è©³ç´°å®Œæ•´çš„æŠ€è¡“æ–‡æª”
- ğŸ›¡ï¸ å®‰å…¨èˆ‡æ•ˆèƒ½å„ªåŒ–

**ä¸‹æ¬¡é–‹ç™¼å»ºè­°:**
1. å…ˆé€²è¡Œå¯¦éš›éƒ¨ç½²æ¸¬è©¦
2. é©—è­‰æ‰€æœ‰åŠŸèƒ½é‹ä½œæ­£å¸¸
3. æ ¹æ“šæ¸¬è©¦çµæœé€²è¡Œå¾®èª¿
4. è€ƒæ…®æ–°å¢é¡å¤–åŠŸèƒ½éœ€æ±‚

---

*ç³»çµ±å·²æº–å‚™å®Œæˆï¼Œå¯ç›´æ¥éƒ¨ç½²ä½¿ç”¨ï¼* ğŸ‰